{"version":3,"sources":["main.js"],"names":[],"mappings":";;AAAA,CAAC,YAAU;AACT,cAAY,CAAC;;AAEb,MAAI,QAAQ,GAAE,EAAE,CAAC;AACjB,MAAI,OAAO,GAAE,EAAE,CAAC;;AAEhB,GAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,UAAS,KAAK,EAAC;AAChD,SAAK,CAAC,cAAc,EAAE,CAAC;AACvB,YAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,GAAG,EAAE,CAAC;AACrD,UAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;GACtD,CAAC,CAAC;AACH,GAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,UAAS,KAAK,EAAC;AACtD,SAAK,CAAC,cAAc,EAAE,CAAC;AACvB,WAAO,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,EAAE,CAAC;AAC/C,eAAW,EAAE,CAAC;GACf,CAAC,CAAC;;AAEH,MAAI,UAAU,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC;AACtC,UAAM,EAAE;AACP,QAAE,EAAE,OAAO;AACX,YAAM,EAAE,MAAM;KACd;AACD,SAAK,EAAE,iBAAW;AAChB,OAAC,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;KACvC;AACD,QAAI,EAAE,UAAU;GACjB,CAAC,CAAC;AACH,WAAS,aAAa,GAAG;AACvB,KAAC,CAAC,IAAI,CAAC;AACL,SAAG,EAAE,gEAAgE;KACtE,CAAC,CACD,IAAI,CAAC,UAAS,IAAI,EAAC;AAChB,OAAC,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;KAC7C,CAAC,CAAC;GACJ;AACD,WAAS,WAAW,CAAC,UAAU,EAAC;AAC9B,KAAC,CAAC,IAAI,CAAC;AACL,SAAG,EAAE,gEAAgE;AACrE,UAAI,EAAE;AACJ,gBAAQ,EAAE,QAAQ;AAClB,kBAAU,EAAE,IAAI,IAAI,EAAE;AACtB,eAAO,EAAE,UAAU;OACpB;AACD,UAAI,EAAE,MAAM;KACb,CAAC,CAAC;AACH,iBAAa,EAAE,CAAC;GACjB;AACD,WAAS,UAAU,GAAG;AACpB,iBAAa,EAAE,CAAC;AAChB,KAAC,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;GACvC;AACD,QAAM,CAAC,WAAW,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;CAC1C,CAAA,CAAE","file":"app.js","sourcesContent":["(function(){\n  'use strict';\n  \n  var username ='';\n  var message ='';\n  \n  $(document).on('submit', '.login', function(event){\n    event.preventDefault();\n    username = $(this).find('login-form-username').val();\n    window.chatRouter.navigate('/chat', {trigger: true});\n  });\n  $(document).on('submit', '.new-message', function(event){\n    event.preventDefault();\n    message = $(this).find('.message-input').val();\n    postMessage();\n  });\n  \n  var ChatRouter = Backbone.Router.extend({\n    routes: {\n     '': 'index',\n     'chat': 'chat' \n    },\n    index: function() {\n      $('application').html(JST['login']());\n    },\n    chat: renderChat\n  });\n  function fetchMessages() {\n    $.ajax({\n      url: \"http://tiny-lasagna-server.herokuapp.com/collections/messages/\",\n    })\n    .then(function(data){\n        $('.application').html(JST['chat'](data));\n    });\n  }\n  function postMessage(newMessage){\n    $.ajax({\n      url: \"http://tiny-lasagna-server.herokuapp.com/collections/messages/\",\n      data: {\n        username: username,\n        created_at: new Date(),\n        content: newMessage,\n      },\n      type: \"POST\",\n    });\n    fetchMessages();\n  }\n  function renderChat() {\n    fetchMessages();\n    $('.application').html(JST['chat']());\n  }\n  window.setInterval(fetchMessages, 10000);\n});"],"sourceRoot":"/source/"}